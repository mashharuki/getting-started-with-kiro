# Tetrisゲーム 実装タスクリスト

- [ ] 1. プロジェクト基盤の構築
  - プロジェクトディレクトリ構造の作成
  - 基本的なHTML、CSS、JavaScriptファイルの作成
  - Canvas要素とUI要素の基本レイアウト実装
  - _Requirements: 4.1, 4.4_

- [ ] 2. テトリミノクラスの実装
  - [ ] 2.1 基本的なTetrominoクラスの作成
    - 7種類のテトリミノ形状データの定義
    - テトリミノの色情報の設定
    - 基本的なコンストラクタとゲッター実装
    - _Requirements: 1.2_

  - [ ] 2.2 テトリミノ回転機能の実装
    - 時計回りの回転ロジック実装
    - 回転後の形状検証機能
    - 回転の単体テスト作成
    - _Requirements: 2.3_

- [ ] 3. ゲームボードクラスの実装
  - [ ] 3.1 GameBoardクラスの基本構造作成
    - 10x20のボード配列初期化
    - ボード状態の取得・設定メソッド
    - ボードのクリア機能
    - _Requirements: 1.1_

  - [ ] 3.2 衝突検出システムの実装
    - テトリミノとボードの衝突判定
    - 境界チェック機能
    - 有効な位置判定メソッド
    - _Requirements: 1.2, 1.4_

  - [ ] 3.3 ライン消去機能の実装
    - 完成した行の検出ロジック
    - 行削除とブロック落下処理
    - 複数行同時消去の処理
    - _Requirements: 1.3, 3.2_

- [ ] 4. レンダリングシステムの実装
  - [ ] 4.1 基本的なRenderer クラスの作成
    - Canvas描画の基本機能
    - ボード描画メソッド
    - ブロック描画メソッド
    - _Requirements: 4.1_

  - [ ] 4.2 ゲーム画面の描画機能
    - 現在のテトリミノ描画
    - 配置済みブロック描画
    - グリッド線の描画
    - _Requirements: 4.1, 4.4_

  - [ ] 4.3 UI要素の描画実装
    - スコア表示機能
    - レベル表示機能
    - 次のテトリミノ表示
    - _Requirements: 3.3, 4.1_

- [ ] 5. 入力処理システムの実装
  - [ ] 5.1 InputHandlerクラスの作成
    - キーボードイベントリスナーの設定
    - 基本的なキー入力処理
    - 入力検証機能
    - _Requirements: 2.1, 2.2, 2.3, 2.4, 2.5_

  - [ ] 5.2 ゲーム操作の実装
    - 左右移動機能
    - テトリミノ回転機能
    - 高速落下機能
    - 一時停止機能
    - _Requirements: 2.1, 2.2, 2.3, 2.4, 2.5_

- [ ] 6. ゲーム状態管理の実装
  - [ ] 6.1 GameStateクラスの作成
    - スコア、レベル、ライン数の管理
    - ゲーム状態（実行中、一時停止、終了）の管理
    - 状態リセット機能
    - _Requirements: 3.1, 3.3, 5.1, 5.2_

  - [ ] 6.2 スコアリングシステムの実装
    - 基本スコア計算（1行消去: 100点）
    - 複数行同時消去のボーナス計算
    - レベル上昇ロジック
    - _Requirements: 3.1, 3.2, 3.3_

- [ ] 7. ゲームエンジンの実装
  - [ ] 7.1 GameEngineクラスの基本構造
    - ゲームループの実装
    - requestAnimationFrameを使用したアニメーション
    - ゲーム状態の統合管理
    - _Requirements: 1.1, 1.2, 5.1_

  - [ ] 7.2 テトリミノ落下システム
    - 自動落下タイマーの実装
    - レベルに応じた落下速度調整
    - 落下完了時の処理
    - _Requirements: 1.2, 3.3_

  - [ ] 7.3 ゲームオーバー処理
    - ゲームオーバー条件の判定
    - ゲームオーバー画面の表示
    - 再スタート機能の実装
    - _Requirements: 1.4, 4.2, 5.2_

- [ ] 8. スタイリングとUI改善
  - [ ] 8.1 基本的なCSSスタイルの実装
    - ゲームボードのスタイリング
    - UI要素のレイアウト調整
    - 色とフォントの設定
    - _Requirements: 4.1, 4.4_

  - [ ] 8.2 レスポンシブデザインの実装
    - 異なる画面サイズへの対応
    - モバイルデバイス対応
    - ブラウザ互換性の確保
    - _Requirements: 4.4_

- [ ] 9. エラーハンドリングとバリデーション
  - [ ] 9.1 入力エラー処理の実装
    - 無効なキー入力の処理
    - ゲーム状態に応じた入力制御
    - エラーメッセージの表示
    - _Requirements: 5.4_

  - [ ] 9.2 ゲーム状態エラー処理
    - 不正な状態の検出と修正
    - 描画エラーの処理
    - フォールバック機能の実装
    - _Requirements: 5.4_

- [ ] 10. テストとデバッグ
  - [ ] 10.1 基本機能のテスト
    - 各テトリミノの動作確認
    - 衝突検出の正確性テスト
    - ライン消去機能のテスト
    - _Requirements: 1.1, 1.2, 1.3, 1.4_

  - [ ] 10.2 ユーザビリティテスト
    - キーボード操作の応答性確認
    - ゲームフローの自然さ確認
    - エラー処理の適切性確認
    - _Requirements: 2.1, 2.2, 2.3, 2.4, 2.5_

- [ ] 11. 最終統合とドキュメント作成
  - [ ] 11.1 全機能の統合テスト
    - ゲーム全体の動作確認
    - パフォーマンステスト
    - ブラウザ互換性テスト
    - _Requirements: 1.1, 1.2, 1.3, 1.4, 2.1, 2.2, 2.3, 2.4, 2.5, 3.1, 3.2, 3.3, 4.1, 4.2, 4.3, 4.4, 5.1, 5.2, 5.3, 5.4_

  - [ ] 11.2 README.mdとドキュメント作成
    - ゲームの説明と操作方法
    - セットアップ手順の記載
    - 技術仕様の文書化
    - _Requirements: 4.1, 4.2_