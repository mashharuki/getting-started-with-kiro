# Tetris ゲーム 実装タスクリスト

- [x] 1. プロジェクト基盤の構築

  - プロジェクトディレクトリ構造の作成
  - 基本的な HTML、CSS、JavaScript ファイルの作成
  - Canvas 要素と UI 要素の基本レイアウト実装
  - _Requirements: 4.1, 4.4_

- [x] 2. テトリミノクラスの実装

  - [x] 2.1 基本的な Tetromino クラスの作成

    - 7 種類のテトリミノ形状データの定義
    - テトリミノの色情報の設定
    - 基本的なコンストラクタとゲッター実装
    - _Requirements: 1.2_

  - [x] 2.2 テトリミノ回転機能の実装
    - 時計回りの回転ロジック実装
    - 回転後の形状検証機能
    - 回転の単体テスト作成
    - _Requirements: 2.3_

- [x] 3. ゲームボードクラスの実装

  - [x] 3.1 GameBoard クラスの基本構造作成

    - 10x20 のボード配列初期化
    - ボード状態の取得・設定メソッド
    - ボードのクリア機能
    - _Requirements: 1.1_

  - [x] 3.2 衝突検出システムの実装

    - テトリミノとボードの衝突判定
    - 境界チェック機能
    - 有効な位置判定メソッド
    - _Requirements: 1.2, 1.4_

  - [x] 3.3 ライン消去機能の実装
    - 完成した行の検出ロジック
    - 行削除とブロック落下処理
    - 複数行同時消去の処理
    - _Requirements: 1.3, 3.2_

- [x] 4. レンダリングシステムの実装

  - [x] 4.1 基本的な Renderer クラスの作成

    - Canvas 描画の基本機能
    - ボード描画メソッド
    - ブロック描画メソッド
    - _Requirements: 4.1_

  - [x] 4.2 ゲーム画面の描画機能

    - 現在のテトリミノ描画
    - 配置済みブロック描画
    - グリッド線の描画
    - _Requirements: 4.1, 4.4_

  - [x] 4.3 UI 要素の描画実装
    - スコア表示機能
    - レベル表示機能
    - 次のテトリミノ表示
    - _Requirements: 3.3, 4.1_

- [x] 5. 入力処理システムの実装

  - [x] 5.1 InputHandler クラスの作成

    - キーボードイベントリスナーの設定
    - 基本的なキー入力処理
    - 入力検証機能
    - _Requirements: 2.1, 2.2, 2.3, 2.4, 2.5_

  - [x] 5.2 ゲーム操作の実装
    - 左右移動機能
    - テトリミノ回転機能
    - 高速落下機能
    - 一時停止機能
    - _Requirements: 2.1, 2.2, 2.3, 2.4, 2.5_

- [x] 6. ゲーム状態管理の実装

  - [x] 6.1 GameState クラスの作成

    - スコア、レベル、ライン数の管理
    - ゲーム状態（実行中、一時停止、終了）の管理
    - 状態リセット機能
    - _Requirements: 3.1, 3.3, 5.1, 5.2_

  - [x] 6.2 スコアリングシステムの実装
    - 基本スコア計算（1 行消去: 100 点）
    - 複数行同時消去のボーナス計算
    - レベル上昇ロジック
    - _Requirements: 3.1, 3.2, 3.3_

- [x] 7. ゲームエンジンの実装

  - [x] 7.1 GameEngine クラスの基本構造

    - ゲームループの実装
    - requestAnimationFrame を使用したアニメーション
    - ゲーム状態の統合管理
    - _Requirements: 1.1, 1.2, 5.1_

  - [x] 7.2 テトリミノ落下システム

    - 自動落下タイマーの実装
    - レベルに応じた落下速度調整
    - 落下完了時の処理
    - _Requirements: 1.2, 3.3_

  - [x] 7.3 ゲームオーバー処理
    - ゲームオーバー条件の判定
    - ゲームオーバー画面の表示
    - 再スタート機能の実装
    - _Requirements: 1.4, 4.2, 5.2_

- [x] 8. スタイリングと UI 改善

  - [x] 8.1 基本的な CSS スタイルの実装

    - ゲームボードのスタイリング
    - UI 要素のレイアウト調整
    - 色とフォントの設定
    - _Requirements: 4.1, 4.4_

  - [x] 8.2 レスポンシブデザインの実装
    - 異なる画面サイズへの対応
    - モバイルデバイス対応
    - ブラウザ互換性の確保
    - _Requirements: 4.4_

- [x] 9. エラーハンドリングとバリデーション

  - [x] 9.1 入力エラー処理の実装

    - 無効なキー入力の処理
    - ゲーム状態に応じた入力制御
    - エラーメッセージの表示
    - _Requirements: 5.4_

  - [x] 9.2 ゲーム状態エラー処理
    - 不正な状態の検出と修正
    - 描画エラーの処理
    - フォールバック機能の実装
    - _Requirements: 5.4_

- [x] 10. テストとデバッグ

  - [x] 10.1 基本機能のテスト

    - 各テトリミノの動作確認
    - 衝突検出の正確性テスト
    - ライン消去機能のテスト
    - _Requirements: 1.1, 1.2, 1.3, 1.4_

  - [x] 10.2 ユーザビリティテスト
    - キーボード操作の応答性確認
    - ゲームフローの自然さ確認
    - エラー処理の適切性確認
    - _Requirements: 2.1, 2.2, 2.3, 2.4, 2.5_

- [-] 11. 最終統合とドキュメント作成

  - [x] 11.1 全機能の統合テスト

    - ゲーム全体の動作確認
    - パフォーマンステスト
    - ブラウザ互換性テスト
    - _Requirements: 1.1, 1.2, 1.3, 1.4, 2.1, 2.2, 2.3, 2.4, 2.5, 3.1, 3.2, 3.3, 4.1, 4.2, 4.3, 4.4, 5.1, 5.2, 5.3, 5.4_

  - [x] 11.2 README.md とドキュメント作成
    - ゲームの説明と操作方法
    - セットアップ手順の記載
    - 技術仕様の文書化
    - _Requirements: 4.1, 4.2_
